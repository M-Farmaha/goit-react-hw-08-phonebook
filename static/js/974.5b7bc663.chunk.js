"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[974],{8974:function(t,e,n){n.r(e),n.d(e,{default:function(){return v}});var r=n(9439),o=n(2791),s=n(4153),i=n(8989),u=n(5218),a=n(8402),c=n(184),l=function(){return(0,c.jsx)(a.s5,{strokeColor:"rgb(87, 88, 134)",strokeWidth:"5",animationDuration:"0.75",width:"24",visible:!0})},d=function(){return(0,c.jsx)(a.s5,{strokeColor:"rgb(87, 88, 134)",strokeWidth:"5",animationDuration:"0.75",width:"24",visible:!0})},f=function(){return(0,c.jsx)(a.s5,{strokeColor:"rgb(87, 88, 134)",strokeWidth:"5",animationDuration:"0.75",width:"66",visible:!0})},m=function(){var t,e,n=(0,o.useState)(!1),a=(0,r.Z)(n,2),l=a[0],f=a[1],m=(0,o.useState)(!1),x=(0,r.Z)(m,2),g=x[0],h=x[1],p=(0,o.useState)(null!==(t=JSON.parse(window.localStorage.getItem("NAME")))&&void 0!==t?t:""),j=(0,r.Z)(p,2),b=j[0],v=j[1],S=(0,o.useState)(null!==(e=JSON.parse(window.localStorage.getItem("NUMBER")))&&void 0!==e?e:""),y=(0,r.Z)(S,2),w=y[0],k=y[1],E=(0,i.Tn)(),I=(0,r.Z)(E,2),C=I[0],N=I[1],_=N.isLoading,B=N.isSuccess,F=N.isError,Z=N.error;(0,o.useEffect)((function(){window.localStorage.setItem("NAME",JSON.stringify(b))}),[b]),(0,o.useEffect)((function(){window.localStorage.setItem("NUMBER",JSON.stringify(w))}),[w]),(0,o.useEffect)((function(){B&&u.Am.success("Successfully added!"),F&&u.Am.error("Wasn't added!. Status: ".concat(Z.status))}),[Z,F,B]);return(0,c.jsxs)(s.l0,{style:{marginTop:"30px"},onSubmit:function(t){t.preventDefault(),C({name:b,number:w}),v(""),k("")},autoComplete:"off",children:[(0,c.jsx)(s.__,{htmlFor:"name",style:{color:l&&"rgb(87, 88, 134)"},children:"Name"}),(0,c.jsx)(s.II,{style:{marginBottom:"20px"},type:"text",name:"name",value:b,onChange:function(t){return v(t.target.value)},onFocus:function(){return f(!0)},onBlur:function(){return f(!1)},id:"name",title:"min 3, max 40 symbols",pattern:"^.{3,40}$",required:!0}),(0,c.jsx)(s.__,{htmlFor:"number",style:{color:g&&"rgb(87, 88, 134)"},children:"Number"}),(0,c.jsx)(s.II,{style:{marginBottom:"20px"},type:"tel",name:"number",value:w,onChange:function(t){return k(t.target.value)},onFocus:function(){return h(!0)},onBlur:function(){return h(!1)},id:"number",title:"Only figures and spaces, min 6, max 20 symbols",pattern:"[0-9\\s]{6,20}",required:!0}),(0,c.jsx)(s.zx,{style:{marginBottom:"40px"},type:"submit",disabled:_||!b||!w,children:_?(0,c.jsx)(d,{}):"Add contact"})]})},x=n(5048),g=n(6895),h=function(t){return t.filter},p=function(){var t=(0,o.useState)(!1),e=(0,r.Z)(t,2),n=e[0],i=e[1],u=(0,x.v9)(h),a=(0,x.I0)(),l=(0,o.useState)(u),d=(0,r.Z)(l,2),f=d[0],m=d[1];return(0,o.useEffect)((function(){var t=setTimeout((function(){a((0,g.Tv)(f))}),500);return function(){clearTimeout(t)}}),[a,f]),(0,c.jsxs)(s.l0,{style:{marginBottom:"20px"},children:[(0,c.jsx)(s.__,{htmlFor:"filterInput",style:{fontSize:16,fontWeight:400,color:n&&"rgb(87, 88, 134)"},children:"Find contacts by name"}),(0,c.jsx)(s.II,{autoComplete:"off",type:"text",id:"filterInput",value:f,onChange:function(t){return m(t.target.value)},onFocus:function(){return i(!0)},onBlur:function(){return i(!1)}})]})},j=function(t){var e=t.contact,n=(0,i.Nt)(),a=(0,r.Z)(n,2),d=a[0],f=a[1],m=f.isLoading,x=f.isSuccess,g=f.isError,h=f.error;return(0,o.useEffect)((function(){x&&u.Am.success("Successfully deleted!"),g&&u.Am.error("Wasn't deleted. Status: ".concat(h.status))}),[h,g,x]),(0,c.jsxs)(s.WF,{children:[(0,c.jsxs)(s.Kd,{children:[e.name,": "]}),(0,c.jsx)(s.kL,{children:e.number}),(0,c.jsx)(s.m1,{disabled:m,type:"button",id:e.id,onClick:function(){return d(e.id)},children:m?(0,c.jsx)(l,{}):(0,c.jsx)(s.pJ,{})})]})},b=function(){var t=(0,x.v9)(h),e=(0,i.wY)(),n=e.data,r=e.isLoading,a=e.error,l=e.isError;(0,o.useEffect)((function(){l&&u.ZP.error("Wasn't loaded. Status: ".concat(a.status))}),[a,l]);var d=null===n||void 0===n?void 0:n.filter((function(e){return e.name.toLowerCase().includes(t)}));return r?(0,c.jsx)(f,{}):0!==d.length&&(0,c.jsx)(s.lD,{children:d.map((function(t){return(0,c.jsx)(j,{contact:t},t.id)}))})},v=function(){return(0,c.jsx)(c.Fragment,{children:(0,c.jsxs)(s.$0,{children:[(0,c.jsx)(m,{}),(0,c.jsx)(p,{}),(0,c.jsx)(b,{})]})})}}}]);
//# sourceMappingURL=974.5b7bc663.chunk.js.map